<view class="container">
  <!-- é¡¶éƒ¨ -->
  <view class="header">
    <text class="date">{{today}}</text>
    <button class="add-btn" bindtap="goAddPlan">ï¼‹ æ–°å»ºè®¡åˆ’</button>
    <!-- æ—¥å†æŒ‰é’® -->
    <button class="calendar-btn" size="mini" bindtap="goCalendar">ğŸ“…</button>
  </view>

  <!-- è®¡åˆ’åˆ—è¡¨ -->
  <block wx:if="{{plans.length > 0}}">
    <view class="plan-list">
      <block wx:for="{{plans}}" wx:key="id">
        <view class="plan-box">
          <text class="plan-time">{{item.time}}</text>
          <text class="plan-title {{item.status}}">{{item.title}}</text>
          <view class="plan-actions">
              <button 
                class="btn-finish {{item.status}}"
                size="mini"
                bindtap="setDone"
                data-id="{{item.id}}">
                {{item.status=='done'?'å·²å®Œæˆ':'å®Œæˆ'}}
              </button>
              <button 
                class="btn-delay {{item.status}}"
                size="mini"
                bindtap="setDelay"
                data-id="{{item.id}}">
                {{item.status=='delay'?'å·²æ‹–å»¶':'æ‹–å»¶'}}
              </button>
            </view>
        </view>
      </block>
    </view>
  </block>

  <!-- ç©ºçŠ¶æ€ -->
  <block wx:else>
    <view class="empty">
      <text>ä»Šæ—¥æš‚æ— è®¡åˆ’ï¼Œå¿«å»æ·»åŠ å§ï¼</text>
    </view>
  </block>


</view>
